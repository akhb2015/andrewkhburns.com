name: Push-to-Bluehost

# Trigger deployment only on push to main branch
on:
  push:
    branches:
      - main

jobs:
  hello_world_rsync_deploy:
    runs-on: ubuntu-latest
    name: A job to test rsync-deploy-action
    steps:
      - name: Checkout repository
      uses: D3rHase/rsync-deploy-action@latest
      with:
        HOST: 162.241.244.142                            # Remote server address / ip - Required: true
        PORT: 22                            # Remote server port -  Default: 22 - Required: false
        USER: ${{secrets.BLUEHOST_USERNAME}}                             # Remote server user - Required: true
        PRIVATE_SSH_KEY: ${{secrets.BLUEHOST_PRIVATE_SSH_KEY}}       
        REPOSITORY_PATH: /Users/akhb/Sites/andrewkhburns.com/*     
        SERVER_PATH: /home3/ndrewkhb/public_html/